{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Sezo Audio Engine","text":"<p>Sezo Audio Engine ships two packages in one repo:</p> <ul> <li>Android Engine: a native Android AAR (C++/Kotlin) for low-latency, multi-track audio.</li> <li>Expo Module: a JavaScript/TypeScript API that wraps the native engine for Expo/React Native.</li> </ul> <p>Use the Android Engine directly for native Android apps. Use the Expo Module if you want a cross-platform JS API.</p>"},{"location":"#status","title":"Status","text":"<ul> <li>Android Engine: production-ready for Android.</li> <li>Expo Module: production-ready for iOS and Android.</li> </ul>"},{"location":"#quick-links","title":"Quick Links","text":"<ul> <li>Android Engine docs</li> <li>Expo Module docs</li> <li>Concepts</li> <li>JitPack</li> </ul>"},{"location":"#repo-layout","title":"Repo Layout","text":"<ul> <li><code>packages/android-engine</code>: native engine</li> <li><code>packages/expo-module</code>: Expo module wrapper and example app</li> </ul>"},{"location":"#support","title":"Support","text":"<p>Open a GitHub issue for bugs or feature requests.</p>"},{"location":"android/api/","title":"Android Engine API","text":""},{"location":"android/api/#lifecycle","title":"Lifecycle","text":"<ul> <li><code>initialize(sampleRate: Int = 44100, maxTracks: Int = 8): Boolean</code></li> <li><code>release()</code></li> <li><code>destroy()</code></li> </ul>"},{"location":"android/api/#track-management","title":"Track Management","text":"<ul> <li><code>loadTrack(trackId: String, filePath: String, startTimeMs: Double = 0.0): Boolean</code></li> <li><code>unloadTrack(trackId: String): Boolean</code></li> <li><code>unloadAllTracks()</code></li> </ul>"},{"location":"android/api/#playback","title":"Playback","text":"<ul> <li><code>play()</code></li> <li><code>pause()</code></li> <li><code>stop()</code></li> <li><code>seek(positionMs: Double)</code></li> <li><code>isPlaying(): Boolean</code></li> <li><code>getCurrentPosition(): Double</code></li> <li><code>getDuration(): Double</code></li> </ul>"},{"location":"android/api/#per-track-controls","title":"Per-Track Controls","text":"<ul> <li><code>setTrackVolume(trackId: String, volume: Float)</code></li> <li><code>setTrackMuted(trackId: String, muted: Boolean)</code></li> <li><code>setTrackSolo(trackId: String, solo: Boolean)</code></li> <li><code>setTrackPan(trackId: String, pan: Float)</code></li> <li><code>setTrackPitch(trackId: String, semitones: Float)</code></li> <li><code>getTrackPitch(trackId: String): Float</code></li> <li><code>setTrackSpeed(trackId: String, rate: Float)</code></li> <li><code>getTrackSpeed(trackId: String): Float</code></li> </ul>"},{"location":"android/api/#master-controls","title":"Master Controls","text":"<ul> <li><code>setMasterVolume(volume: Float)</code></li> <li><code>getMasterVolume(): Float</code></li> <li><code>setPitch(semitones: Float)</code></li> <li><code>getPitch(): Float</code></li> <li><code>setSpeed(rate: Float)</code></li> <li><code>getSpeed(): Float</code></li> </ul>"},{"location":"android/api/#recording","title":"Recording","text":"<ul> <li><code>startRecording(outputPath: String, sampleRate: Int = 44100, channels: Int = 1, format: String = \"aac\", bitrate: Int = 128000, bitsPerSample: Int = 16): Boolean</code></li> <li><code>stopRecording(): RecordingResult</code></li> <li><code>isRecording(): Boolean</code></li> <li><code>setRecordingVolume(volume: Float)</code></li> </ul>"},{"location":"android/api/#extraction","title":"Extraction","text":"<ul> <li><code>extractTrack(trackId: String, outputPath: String, format: String = \"wav\", bitrate: Int = 128000, bitsPerSample: Int = 16, includeEffects: Boolean = true): ExtractionResult</code></li> <li><code>startExtractTrack(trackId: String, outputPath: String, format: String = \"wav\", bitrate: Int = 128000, bitsPerSample: Int = 16, includeEffects: Boolean = true): Long</code></li> <li><code>extractAllTracks(outputPath: String, format: String = \"wav\", bitrate: Int = 128000, bitsPerSample: Int = 16, includeEffects: Boolean = true): ExtractionResult</code></li> <li><code>startExtractAllTracks(outputPath: String, format: String = \"wav\", bitrate: Int = 128000, bitsPerSample: Int = 16, includeEffects: Boolean = true): Long</code></li> <li><code>cancelExtraction(jobId: Long): Boolean</code></li> </ul>"},{"location":"android/api/#meters","title":"Meters","text":"<ul> <li><code>getInputLevel(): Float</code></li> </ul>"},{"location":"android/extraction/","title":"Extraction","text":"<p>Use extraction to render a track or the full mix to a file with effects applied.</p>"},{"location":"android/extraction/#extract-a-single-track","title":"Extract a Single Track","text":"<pre><code>val result = engine.extractTrack(\n  trackId = \"backing\",\n  outputPath = \"/sdcard/Music/backing_fx.wav\",\n  format = \"wav\",\n  includeEffects = true\n)\n</code></pre>"},{"location":"android/extraction/#extract-all-tracks-mixdown","title":"Extract All Tracks (Mixdown)","text":"<pre><code>val result = engine.extractAllTracks(\n  outputPath = \"/sdcard/Music/mixdown.aac\",\n  format = \"aac\",\n  bitrate = 128000\n)\n</code></pre>"},{"location":"android/extraction/#async-extraction","title":"Async Extraction","text":"<p>For long exports, use the async APIs and track progress:</p> <ul> <li><code>startExtractTrack(...)</code> returns a job ID</li> <li><code>startExtractAllTracks(...)</code> returns a job ID</li> <li><code>cancelExtraction(jobId)</code> cancels the job</li> </ul> <p>Progress and completion callbacks are exposed from the Kotlin wrapper.</p>"},{"location":"android/install/","title":"Android Engine Installation","text":""},{"location":"android/install/#jitpack","title":"JitPack","text":"<p>Add JitPack to your repositories:</p> <pre><code>repositories {\n  maven { url \"https://jitpack.io\" }\n}\n</code></pre> <p>Add the dependency:</p> <pre><code>implementation(\"com.github.Sepzie:SezoAudioEngine:VERSION\")\n</code></pre> <p>Replace <code>VERSION</code> with a tag like <code>v0.1.2</code>.</p> <p>JitPack page: https://jitpack.io/#Sepzie/SezoAudioEngine</p>"},{"location":"android/install/#local-module","title":"Local Module","text":"<p>If you want to build from source:</p> <ol> <li>Add the module in <code>settings.gradle</code>:    <code>gradle    include(\":engine\")    project(\":engine\").projectDir = file(\"path/to/SezoAudioEngine/packages/android-engine/android/engine\")</code></li> <li>Add the dependency:    <code>gradle    implementation project(\":engine\")</code></li> </ol>"},{"location":"android/install/#permissions","title":"Permissions","text":"<p>If you use recording, add:</p> <pre><code>&lt;uses-permission android:name=\"android.permission.RECORD_AUDIO\" /&gt;\n</code></pre>"},{"location":"android/overview/","title":"Android Engine Overview","text":"<p>The Android Engine is the native audio core (C++ + Kotlin) packaged as an AAR. It provides synchronized multi-track playback, time-stretching, pitch shifting, recording, and offline extraction.</p>"},{"location":"android/overview/#when-to-use-it","title":"When to Use It","text":"<ul> <li>You are building a native Android app.</li> <li>You need low-latency audio with precise synchronization.</li> <li>You want full control over lifecycle and background playback in your app layer.</li> </ul>"},{"location":"android/overview/#requirements","title":"Requirements","text":"<ul> <li>minSdk 24, targetSdk 34</li> <li>NDK 26.1.10909125</li> <li>CMake 3.22.1+</li> <li>Kotlin 1.9+</li> </ul>"},{"location":"android/overview/#limitations","title":"Limitations","text":"<ul> <li>Background playback and MediaSession integration are handled by the host app, not the engine.</li> <li>The engine expects file paths (not content URIs). Copy content URIs to a temp file first.</li> </ul>"},{"location":"android/recording/","title":"Recording","text":"<p>The Android engine can record microphone input while playback runs.</p>"},{"location":"android/recording/#start-recording","title":"Start Recording","text":"<pre><code>val outputPath = \"/sdcard/Music/recording.aac\"\nval ok = engine.startRecording(\n  outputPath = outputPath,\n  sampleRate = 44100,\n  channels = 1,\n  format = \"aac\",\n  bitrate = 128000,\n  bitsPerSample = 16\n)\n</code></pre>"},{"location":"android/recording/#stop-recording","title":"Stop Recording","text":"<pre><code>val result = engine.stopRecording()\nif (!result.success) {\n  throw IllegalStateException(result.errorMessage ?: \"Recording failed\")\n}\n</code></pre>"},{"location":"android/recording/#formats","title":"Formats","text":"<ul> <li><code>aac</code> (MediaCodec) is the recommended default.</li> <li><code>mp3</code> requires LAME support to be enabled.</li> <li><code>wav</code> is lossless but larger on disk.</li> </ul>"},{"location":"android/troubleshooting/","title":"Android Troubleshooting","text":""},{"location":"android/troubleshooting/#build-fails-with-missing-headers","title":"Build fails with missing headers","text":"<p>Make sure submodules are initialized:</p> <pre><code>git submodule update --init --recursive\n</code></pre>"},{"location":"android/troubleshooting/#jitpack-build-fails","title":"JitPack build fails","text":"<p>Common causes: - Missing Gradle wrapper JAR in the repo - Submodules not initialized</p> <p>Trigger a new tag build after fixes. JitPack uses git tags as versions.</p>"},{"location":"android/troubleshooting/#audio-file-fails-to-load","title":"Audio file fails to load","text":"<p>The engine expects an absolute file path. Copy <code>content://</code> URIs to a temp file first.</p>"},{"location":"android/troubleshooting/#recording-returns-silence","title":"Recording returns silence","text":"<p>Check that <code>RECORD_AUDIO</code> permission is granted at runtime and that the input device is available.</p>"},{"location":"android/usage/","title":"Android Engine Usage","text":"<p>Below is a minimal Kotlin example using the <code>AudioEngine</code> wrapper.</p> <pre><code>import com.sezo.audioengine.AudioEngine\n\nval engine = AudioEngine()\nval ok = engine.initialize(sampleRate = 44100, maxTracks = 8)\nif (!ok) {\n  throw IllegalStateException(\"Failed to initialize audio engine\")\n}\n\nengine.loadTrack(\"backing\", \"/sdcard/Music/backing.wav\", startTimeMs = 0.0)\nengine.loadTrack(\"vocals\", \"/sdcard/Music/vocals.wav\", startTimeMs = 250.0)\n\nengine.setTrackVolume(\"vocals\", 0.8f)\nengine.setPitch(0.0f)\nengine.setSpeed(1.0f)\n\nengine.play()\n\n// ...\nengine.pause()\nengine.stop()\nengine.release()\nengine.destroy()\n</code></pre>"},{"location":"android/usage/#file-paths","title":"File Paths","text":"<p>The native engine expects an absolute file path. If you have a <code>content://</code> URI, copy it to a temp file and pass the resulting path.</p>"},{"location":"common/concepts/","title":"Concepts","text":""},{"location":"common/concepts/#timing-and-units","title":"Timing and Units","text":"<ul> <li>Sample rate: number of audio samples per second (e.g., 44100 Hz).</li> <li>Frame: one sample per channel. Stereo audio has 2 samples per frame.</li> <li>Position: the engine reports playback position in milliseconds.</li> </ul>"},{"location":"common/concepts/#tracks","title":"Tracks","text":"<p>Each track is identified by a string <code>id</code> and has a source file path/URI. Tracks can have a start offset (<code>startTimeMs</code>) to align material on the timeline.</p>"},{"location":"common/concepts/#synchronization","title":"Synchronization","text":"<p>All tracks share a master clock. Timing conversions are handled internally so playback stays sample-accurate across tracks.</p>"},{"location":"common/concepts/#file-formats","title":"File Formats","text":"<p>Input formats: - MP3 - WAV</p> <p>Recording/export formats: - AAC (Android MediaCodec) - MP3 (optional LAME) - WAV (lossless)</p>"},{"location":"common/concepts/#threading","title":"Threading","text":"<p>Audio processing runs on a real-time audio thread. Keep heavy work off the callback and update parameters from a separate thread/UI layer.</p>"},{"location":"expo/api/","title":"Expo Module API","text":"<p>The API is defined in <code>packages/expo-module/src/AudioEngineModule.types.ts</code>.</p>"},{"location":"expo/api/#core","title":"Core","text":"<ul> <li><code>initialize(config: AudioEngineConfig): Promise&lt;void&gt;</code></li> <li><code>release(): Promise&lt;void&gt;</code></li> <li><code>loadTracks(tracks: AudioTrack[]): Promise&lt;void&gt;</code></li> <li><code>unloadTrack(trackId: string): Promise&lt;void&gt;</code></li> <li><code>unloadAllTracks(): Promise&lt;void&gt;</code></li> <li><code>getLoadedTracks(): AudioTrack[]</code></li> </ul>"},{"location":"expo/api/#playback","title":"Playback","text":"<ul> <li><code>play(): void</code></li> <li><code>pause(): void</code></li> <li><code>stop(): void</code></li> <li><code>seek(positionMs: number): void</code></li> <li><code>isPlaying(): boolean</code></li> <li><code>getCurrentPosition(): number</code></li> <li><code>getDuration(): number</code></li> </ul>"},{"location":"expo/api/#track-controls","title":"Track Controls","text":"<ul> <li><code>setTrackVolume(trackId: string, volume: number): void</code></li> <li><code>setTrackMuted(trackId: string, muted: boolean): void</code></li> <li><code>setTrackSolo(trackId: string, solo: boolean): void</code></li> <li><code>setTrackPan(trackId: string, pan: number): void</code></li> <li><code>setTrackPitch(trackId: string, semitones: number): void</code></li> <li><code>getTrackPitch(trackId: string): number</code></li> <li><code>setTrackSpeed(trackId: string, rate: number): void</code></li> <li><code>getTrackSpeed(trackId: string): number</code></li> </ul>"},{"location":"expo/api/#master-controls","title":"Master Controls","text":"<ul> <li><code>setMasterVolume(volume: number): void</code></li> <li><code>getMasterVolume(): number</code></li> <li><code>setPitch(semitones: number): void</code></li> <li><code>getPitch(): number</code></li> <li><code>setSpeed(rate: number): void</code></li> <li><code>getSpeed(): number</code></li> <li><code>setTempoAndPitch(tempo: number, pitch: number): void</code></li> </ul>"},{"location":"expo/api/#recording","title":"Recording","text":"<ul> <li><code>startRecording(config?: RecordingConfig): Promise&lt;void&gt;</code></li> <li><code>stopRecording(): Promise&lt;RecordingResult&gt;</code></li> <li><code>isRecording(): boolean</code></li> <li><code>setRecordingVolume(volume: number): void</code></li> </ul>"},{"location":"expo/api/#extraction","title":"Extraction","text":"<ul> <li><code>extractTrack(trackId: string, config?: ExtractionConfig): Promise&lt;ExtractionResult&gt;</code></li> <li><code>extractAllTracks(config?: ExtractionConfig): Promise&lt;ExtractionResult[]&gt;</code></li> <li><code>cancelExtraction(jobId?: number): boolean</code></li> </ul>"},{"location":"expo/api/#meters","title":"Meters","text":"<ul> <li><code>getInputLevel(): number</code></li> <li><code>getOutputLevel(): number</code></li> <li><code>getTrackLevel(trackId: string): number</code></li> </ul>"},{"location":"expo/api/#background-playback-planned","title":"Background Playback (Planned)","text":"<ul> <li><code>enableBackgroundPlayback(metadata: MediaMetadata): Promise&lt;void&gt;</code></li> <li><code>updateNowPlayingInfo(metadata: Partial&lt;MediaMetadata&gt;): void</code></li> <li><code>disableBackgroundPlayback(): Promise&lt;void&gt;</code></li> </ul>"},{"location":"expo/events/","title":"Expo Events","text":"<p>The module emits events for playback, recording, and extraction.</p>"},{"location":"expo/events/#event-names","title":"Event Names","text":"<ul> <li><code>playbackStateChange</code></li> <li><code>positionUpdate</code></li> <li><code>playbackComplete</code></li> <li><code>trackLoaded</code></li> <li><code>trackUnloaded</code></li> <li><code>recordingStarted</code></li> <li><code>recordingStopped</code></li> <li><code>extractionProgress</code></li> <li><code>extractionComplete</code></li> <li><code>error</code></li> </ul>"},{"location":"expo/events/#example","title":"Example","text":"<pre><code>const subscription = AudioEngineModule.addListener('playbackStateChange', (event) =&gt; {\n  console.log('state', event);\n});\n\n// Later\nsubscription.remove();\n</code></pre>"},{"location":"expo/install/","title":"Expo Module Installation","text":""},{"location":"expo/install/#package-install","title":"Package Install","text":"<p>When published to npm:</p> <pre><code>npm install sezo-audio-engine\n</code></pre> <p>Until then, install from a git URL or a local workspace path.</p>"},{"location":"expo/install/#android-permissions","title":"Android Permissions","text":"<p>If you use recording, add:</p> <pre><code>&lt;uses-permission android:name=\"android.permission.RECORD_AUDIO\" /&gt;\n</code></pre>"},{"location":"expo/install/#ios-infoplist","title":"iOS Info.plist","text":"<p>If you use recording or background playback, add:</p> <pre><code>{\n  \"expo\": {\n    \"ios\": {\n      \"infoPlist\": {\n        \"NSMicrophoneUsageDescription\": \"Allow access to the microphone for recording audio.\",\n        \"UIBackgroundModes\": [\"audio\"]\n      }\n    }\n  }\n}\n</code></pre>"},{"location":"expo/install/#expo-config","title":"Expo Config","text":"<p>The module is built with Expo Modules and is auto-registered by <code>expo-module.config.json</code>.</p>"},{"location":"expo/overview/","title":"Expo Module Overview","text":"<p>The Expo module exposes the audio engine to JavaScript via Expo Modules, providing a single, cross-platform API for iOS and Android.</p>"},{"location":"expo/overview/#when-to-use-it","title":"When to Use It","text":"<ul> <li>You want a React Native/Expo API for audio playback and recording.</li> <li>You prefer a single, cross-platform API for iOS and Android.</li> </ul>"},{"location":"expo/overview/#capabilities","title":"Capabilities","text":"<ul> <li>Multi-track playback with sync, pitch, and speed control.</li> <li>Recording, extraction, and metering APIs.</li> <li>Background playback with Now Playing controls.</li> </ul>"},{"location":"expo/troubleshooting/","title":"Expo Troubleshooting","text":""},{"location":"expo/troubleshooting/#content-uris","title":"content:// URIs","text":"<p>On Android, <code>content://</code> URIs are not supported yet. Copy the asset to a file and pass a <code>file://</code> or absolute path instead.</p>"},{"location":"expo/troubleshooting/#recording-errors","title":"Recording errors","text":"<p>Ensure <code>RECORD_AUDIO</code> permission is granted at runtime.</p>"},{"location":"expo/troubleshooting/#background-playback","title":"Background playback","text":"<p>If background playback does not continue, confirm the app is configured with <code>UIBackgroundModes: [\"audio\"]</code> (iOS) and that notification permissions are granted (Android).</p>"},{"location":"expo/usage/","title":"Expo Module Usage","text":"<pre><code>import { AudioEngineModule } from 'sezo-audio-engine';\n\nawait AudioEngineModule.initialize({ sampleRate: 44100, maxTracks: 8 });\n\nawait AudioEngineModule.loadTracks([\n  { id: 'backing', uri: 'file:///sdcard/Music/backing.wav' },\n  { id: 'vocals', uri: 'file:///sdcard/Music/vocals.wav', startTimeMs: 250 }\n]);\n\nAudioEngineModule.setTrackVolume('vocals', 0.8);\nAudioEngineModule.play();\n</code></pre>"},{"location":"expo/usage/#recording","title":"Recording","text":"<pre><code>await AudioEngineModule.startRecording({ format: 'aac', quality: 'medium' });\nconst result = await AudioEngineModule.stopRecording();\n</code></pre>"},{"location":"expo/usage/#extraction","title":"Extraction","text":"<pre><code>const result = await AudioEngineModule.extractTrack('backing', { format: 'wav' });\n</code></pre>"}]}